<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Use correct character set. -->
  <meta charset="utf-8">
  <!-- Tell IE to use the latest, best version. -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <title>A'dam 3Dfied</title>
  <script src="./node_modules/cesium/Build/Cesium/Cesium.js"></script>
  <!--<script src="./bin/cesium/Cesium.js"></script>-->
  <style>
      @import url(./node_modules/cesium/Build/Cesium/Widgets/widgets.css);
      html, body, #cesiumContainer {
          width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden;
      }
  </style>
</head>
<body>
  <div id="cesiumContainer"></div>
  <script>
/*
var terrainProvider = new Cesium.CesiumTerrainProvider({
    url : '/service/tilesets/nl/'
});
*/

var terrainProvider = new Cesium.CesiumTerrainProvider({
            url : '//assets.agi.com/stk-terrain/world'
});

var viewer = new Cesium.Viewer('cesiumContainer',{
	//terrainProvider : terrainProvider,
    // terrainProvider: new Cesium.EllipsoidTerrainProvider({}),
 imageryProvider : Cesium.createOpenStreetMapImageryProvider({
        url : 'https://a.tile.openstreetmap.org/'
    }),

//     globe: false,
     //terrainExaggeration : 1.5,
     baseLayerPicker:false,
});
var scene = viewer.scene;

/*
var modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame(
    Cesium.Cartesian3.fromDegrees(4.88797076483, 52.3698262098, 0.0));
var model = scene.primitives.add(Cesium.Model.fromGltf({
	url : './data2/Tile_000_000_l21_003212.gltf',    
	modelMatrix : modelMatrix,
    scale : 1.0
}));
*/
var tileset = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
        //url: 'http://hosting.virtualcitysystems.de/demos/release/data/buildings/berlin_notex_toplevel/tiles.json',
        //url: 'https://cesiumjs.org/NewYork/3DTilesGml/tileset.json',
	//url: './data/tileset.json',
		//url: 'http://holland.virtualcitymap.de/datasource-data/amsterdam/tileset.json',
	url: './amsterdam_data_ahn3/tileset.json',
        show: true,
        debugShowStatistics: false,
        debugShowBoundingVolume: false
}));

var tileset = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
        url: './pctiles',
        debugShowBoundingVolume: false
}));
tileset.readyPromise.then(function() {
            console.log('Loaded tileset');
            var bounding = tileset._root._boundingVolume;
            var center = bounding.boundingSphere.center;
            var cart = Cesium.Ellipsoid.WGS84.cartesianToCartographic(center);

            var dest = Cesium.Cartesian3.fromDegrees(
                    cart.longitude * (180 / Math.PI),
                    cart.latitude * (180 / Math.PI),
                    bounding._boundingSphere.radius * 2);
            //var dest = Cesium.Cartesian3.fromDegrees(4.871398,52.366882, 500);
            viewer.camera.setView({ destination: dest });
        });

/*
scene.camera.flyTo({
  destination: Cesium.Cartesian3.fromDegrees(4.896340, 52.374682, 500),
  orientation : {
    heading : Cesium.Math.toRadians(135.0),
    pitch : Cesium.Math.toRadians(-55.0),
    roll : 0.0
  },
  duration : 1.0, // in seconds
  complete : function() {
    // called when the flight finishes
  }
});
*/
function RD0(){
	scene.camera.flyTo({
	  destination: Cesium.Cartesian3.fromDegrees(4.916, 52.3141, 500),
	  orientation : {
		heading : Cesium.Math.toRadians(135.0),
		pitch : Cesium.Math.toRadians(-55.0),
		roll : 0.0
	  },
	  duration : 1.0, // in seconds
	  complete : function() {
		// called when the flight finishes
	  }
	});
}

  </script>
</body>
</html>

